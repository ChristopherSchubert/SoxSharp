## SoxSharp

SoxSharp is a C# library that serves as a wrapper to [SoX - the Sound eXchange tool](http://sox.sourceforge.net/).

It comes bundled with the SoX 14.4.2 Win32 binary, so if you're on a Windows platform, you don't need any additional prerequisites to start using it. On other platforms (MacOSX and Linux) you will need to set the `SoX.BinaryPath` property to the location where SoX binaries are stored.


### How it works

Usage is pretty straightforward:

```cs
using (Sox sox = new Sox())
{
  sox.Process("test.wav", "test.mp3");
}
```
The previous code will launch SoX with 'test.wav' as input file and 'test.mp3' as output file (the equivalent of executing SoX with the following paratemers: `sox test.wav test.mp3`). 

To force the output to be encoded with MP3 format (instead of letting SoX to guess it from the output file extension) and use a sample rate of 32 KHz:

```cs
using (Sox sox = new Sox())
{
  sox.Output.Type = FileType.MP3;
  sox.Output.SampleRate = 32000 ;

  sox.Process("test.wav", "test.mp3");
}
```

To obtain updated progress information about the operation, you can subscribe to the `OnProgress` event:

```cs
// Subscribe to OnProgress event before calling Process method.
sox.OnProgress += sox_OnProgress;

void sox_OnProgress(object sender, ProgressEventArgs e)
{
  Console.WriteLine("{0} ({1}% completed)", e.Processed.ToString(@"hh\:mm\:ss\.ff"), e.Progress);
}
```

Also, you can subscribe to receive any warning or error message generated by SoX through the `OnLogMessage` event.

```cs
// Subscribe to OnLogMessage.
sox.OnLogMessage += sox_OnLogMessage;

void sox_OnLogMessage(object sender, LogMessageEventArgs e)
{
  Console.WriteLine(e.LogLevel + ": " + e.Message);
}
```

The `Process` method blocks the calling thread until the spawned SoX process ends. 


### Library Reference

A detailed description of all components of the library is available at the [repository wiki](https://github.com/igece/SoxSharp/wiki/Reference-Guide). 


